<?xml version="1.0" encoding="utf-8"?>
<!--
  有关如何配置 ASP.NET 应用程序的详细信息，请访问
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->
<configuration>
  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
    <section name="StorageGroupConfig" type="Xy.ImageFastDFS.Config.StorageGroupConfig,Xy.ImageFastDFS"></section>
  </configSections>
  <appSettings>
    <add key="ThisSysID" value="SYS007" />
    <add key="ConnectionStrings_ITSC" value="server=192.168.3.152\DEV,4000;uid=sa;pwd=123.abc;database=Chitunion2017;Max Pool Size=300;Application Name=ChiTu" />
    <!--系统退出地址-->
    <add key="ExitAddress" value="http://www1.chitunion.com" />
    <!--系统退出地址（集中权限登陆地址）-->
    <!--<add key="ExitSYSAddress" value="http://sys1.chitunion.com" />-->
    <!--验证登陆时，MD5加密key-->
    <add key="LoginPwdKey" value="1234567890ABC" />
    <add key="LoginCookiesName" value="ct-ouinfo" />
    <!--登陆后，写入Cookies作用域-->
    <add key="WebDomain" value="www1.chitunion.com" />
    <!--提示“没有权限访问”的页面地址-->
    <add key="NotAccessMsgPagePath" value="/usermanager/NotAccessMsgPage.html" />
    <!--上传文件存放物理路径-->
    <add key="UploadFilePath" value="D:\GitRoot（C）\A5信息系统研发\销售业务管理平台\赤兔联盟系统\XYAuto.ITSC.Chitunion2017.Upload" />
    <!--登陆Cookies有效期，默认为1天-->
    <add key="LoginCookieOverdueDays" value="1" />
    <!--允许上传的文件头信息(7790是exe,8297是rar)-->
    <add key="AllowUploadFileHeaderInfo" value="jpg:255216,gif:7173,png:13780,bmp:6677,zip:8075,pdf:3780" />
    <!--系统注册时，默认添加的角色信息-->
    <add key="AddUserRoleIDs" value="29001:SYS007RL00025|29002:SYS007RL00026" />
    <!--IT-发送短信接口URL-->
    <add key="SMSServiceURL" value="http://api.sys.xingyuanauto.com/sms/SendSMS" />
    <!--IT-发送短信验证码——模板-->
    <add key="SendSMS_RegisterContentTemp" value="您正在注册用户，验证码：{0}，请在1分钟内按页面提示提交验证码，切勿将验证码泄露给他人" />
    <add key="SendSMS_ForgetPwdContentTemp" value="您正在重置密码，验证码：{0}，请在1分钟内按页面提示提交验证码，切勿将验证码泄露给他人" />
    <add key="SendSMS_ModifyMobileContentTemp" value="您正在修改手机号，验证码：{0}，请在1分钟内按页面提示提交验证码，切勿将验证码泄露给他人" />
    <add key="SendSMS_WithdrawContentTemp" value="您正在进行提现操作，验证码：{0}，请在1分钟内按页面提示提交验证码，切勿将验证码泄露给他人" />
    <!--文章中替换图片url后的域名url前缀，测试环境：http://192.168.3.71 线上环境：http://img4.qcdqcdn.com-->
    <add key="CleanImgURLPrefix" value="http://192.168.3.76/" />
    <!--Geetest极验-产品配置信息-->
    <add key="GeetestConfig_ID" value="dac6b14ba430b833ef3d1cda22cd1cb6" />
    <add key="GeetestConfig_Key" value="73c0d664308fc7e332b1600979d59a09" />
    <!--验证当同一个IP，当天注册量大于一定数量时，停止注册（默认：20）-->
    <add key="RegisterIPCount_Stop" value="20" />
    <!--验证当同一个IP，当天注册量大于一定数量时，启动极验验证码逻辑（默认：2）-->
    <add key="RegisterIPCount_Verify" value="2" />
  </appSettings>
  <connectionStrings />
  <log4net>
    <root>
      <level value="All" />
      <appender-ref ref="RollingFileAppender" />
    </root>
    <appender name="RollingFileAppender" type="log4net.Appender.RollingFileAppender">
      <param name="File" value="Log\" />
      <param name="AppendToFile" value="true" />
      <param name="MaxSizeRollBackups" value="10" />
      <param name="MaximumFileSize" value="10MB" />
      <!--可以为:Once|Size|Date|Composite-->
      <!--Composite为Size和Date的组合-->
      <param name="RollingStyle" value="Composite" />
      <param name="DatePattern" value="&quot;Chitunion_NewWeb_&quot;yyyy-MM-dd&quot;.log&quot;" />
      <!--置为true,当前最新日志文件名永远为file节中的名字CC_yyyy-MM-dd.LOG-->
      <param name="StaticLogFileName" value="false" />
      <layout type="log4net.Layout.PatternLayout">
        <param name="ConversionPattern" value="%d [%t] %-5p %c [%x] - %m%n" />
      </layout>
      <filter type="log4net.Filter.LevelRangeFilter">
        <levelMin value="INFO" />
        <levelMax value="FATAL" />
      </filter>
    </appender>
  </log4net>
  <system.web>
    <globalization fileEncoding="utf-8" requestEncoding="utf-8" responseEncoding="utf-8" />
    <httpRuntime maxRequestLength="40960" targetFramework="4.5" />
    <compilation targetFramework="4.5" />
  </system.web>
  <system.webServer>
    <defaultDocument>
      <files>
        <clear />
        <add value="index.html" />
        <add value="login.aspx" />
      </files>
    </defaultDocument>
    <handlers>
      <add name="include" path="*.html" verb="*" modules="ServerSideIncludeModule" resourceType="File" />
      <add name="FileAuthority" path="/UploadFiles/Personal/*/*/*/*/*.*" verb="*" type="XYAuto.ITSC.Chitunion2017.BLL.FileAuthority" />
    </handlers>
    <directoryBrowse enabled="true" />
    <security>
      <requestFiltering allowDoubleEscaping="true" />
    </security>
    <rewrite>
      <rules>
        <rule name="test-物料重写" stopProcessing="false">
          <match url="^(.*?)/?(ct_.*)/(\d{8})(/\d+.htm.*)$" />
          <conditions logicalGrouping="MatchAll">
            <add input="{HTTP_HOST}" pattern="^www1.chitunion.com$" />
          </conditions>
          <action type="Rewrite" url="http://newscdn.chitunion.com/{R:2}/{R:3}/{R:4}" />
        </rule>
        <rule name="调用wxs.chitunion.com/api下的接口">
          <match url="^(.*?)/?wx/(.*?)$" />
          <conditions>
            <add input="{HTTP_HOST}" pattern="^www1.chitunion.com$" />
            <add input="{URL}" pattern="/wx/api/OAuth2/(.*?)" />
          </conditions>
          <action type="Rewrite" url="http://wxtest-ct.qichedaquan.com/{R:2}" />
        </rule>
      </rules>
    </rewrite>
  </system.webServer>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="NPOI" publicKeyToken="0df73ec7942b34e1" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-2.1.1.0" newVersion="2.1.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-10.0.0.0" newVersion="10.0.0.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <StorageGroupConfig configSource="ConfigFile\StorageGroupConfig.config" />
</configuration>
<!--ProjectGuid: {F20F3D07-E2EF-4A26-BE5E-93E99E70C018}-->