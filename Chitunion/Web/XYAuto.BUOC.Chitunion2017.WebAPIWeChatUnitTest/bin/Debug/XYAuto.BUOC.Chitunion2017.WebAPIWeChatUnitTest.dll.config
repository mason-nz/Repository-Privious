<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=301879
  -->
<configuration>
  <configSections>
    <!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 -->
    <section name="entityFramework" type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
    <section name="StorageGroupConfig" type="Xy.ImageFastDFS.Config.StorageGroupConfig,Xy.ImageFastDFS"></section>
    <section name="appFiles" type="XY.Framework.Configuration.ConfigFilesSection, XY.Framework" />
    <section name="KrFundsConfig" type="XYAuto.ITSC.Chitunion2017.BLL.ThirdApi.Config.KrFundsConfigSection, XYAuto.ITSC.Chitunion2017.BLL" />
  </configSections>
  <connectionStrings>

  </connectionStrings>
  <appSettings>

    <add key="ThisSysID" value="SYS009" />
    <!--登陆后，写入Cookies的名字-->
    <add key="LoginCookiesName" value="ct-wxinfo" />
    <!--登陆后，写入Cookies作用域-->
    <add key="WebDomain" value="wxtest-ct.qichedaquan.com" />

    <add key="ConnectionStrings_ITSC_ReadOnly" value="server=192.168.3.152\DEV,4000;uid=sa;pwd=123.abc;database=Chitunion2017;Max Pool Size=300;Application Name=media_test" />
    <!--<add key="ConnectionStrings_ITSC" value="server=192.168.3.152\DEV,4000;uid=sa;pwd=123.abc;database=Chitunion2017;Max Pool Size=300;Application Name=media_test" />-->
    <add key="ConnectionStrings_ITSC" value="server=192.168.3.152\DEV,4000;uid=sa;pwd=123.abc;database=Chitunion2017;Max Pool Size=300;Application Name=tt" />
    <add key="ConnectionStrings_BaseData2017" value="server=192.168.3.152\DEV,4000;uid=sa;pwd=123.abc;database=BaseData2017;Max Pool Size=300;Application Name=media_test" />

    <add key="webpages:Version" value="2.0.0.0" />
    <add key="webpages:Enabled" value="false" />
    <add key="PreserveLoginUrl" value="true" />
    <add key="ClientValidationEnabled" value="true" />
    <add key="UnobtrusiveJavaScriptEnabled" value="true" />
    <!-- 微信公众号URL对接信息 -->
    <add key="WeixinToken" value="weixin" />
    <add key="WeixinEncodingAESKey" value="应用服务器（开发者服务器）URL对应的消息加解密密钥" />
    <!-- 高级接口信息 -->

    <add key="WeixinAppId" value="wxf0eea6fec2756b45" />
    <add key="WeixinAppSecret" value="2e35c3d7acb3219b6d77415267d06975" />
    <!-- SDK提供的代理功能设置 -->
    <add key="WeixinAgentUrl" value="外部代理Url" />
    <add key="WeixinAgentToken" value="外部代理Token" />
    <add key="WeixinAgentWeiweihiKey" value="外部代理WeiWeiHiKey" />
    <!-- 微信支付相关参数 -->
    <!-- 微信支付V2 -->
    <add key="WeixinPay_Tenpay" value="WeixinPay_Tenpay" />
    <add key="WeixinPay_PartnerId" value="WeixinPay_PartnerId" />
    <add key="WeixinPay_Key" value="WeixinPay_Key" />
    <add key="WeixinPay_AppId" value="WeixinPay_AppId" />
    <add key="WeixinPay_AppKey" value="WeixinPay_AppKey" />
    <add key="WeixinPay_TenpayNotify" value="WeixinPay_TenpayNotify" />
    <!-- 微信支付V3 -->
    <add key="TenPayV3_MchId" value="TenPayV3_MchId" />
    <add key="TenPayV3_Key" value="TenPayV3_Key" />
    <add key="TenPayV3_AppId" value="TenPayV3_AppId" />
    <add key="TenPayV3_AppSecret" value="TenPayV3_AppSecret" />
    <add key="TenPayV3_TenpayNotify" value="http://YourDomainName/TenpayV3/PayNotifyUrl" />
    <!-- 开放平台 -->
    <add key="Component_Appid" value="Component_Appid" />
    <add key="Component_Secret" value="Component_Secret" />
    <add key="Component_Token" value="Component_Token" />
    <add key="Component_EncodingAESKey" value="Component_EncodingAESKey" />
    <!-- 微信企业号 -->
    <add key="WeixinCorpId" value="WeixinCorpId" />
    <add key="WeixinCorpSecret" value="WeixinCorpSecret" />

    <!-- 小程序 -->
    <!-- 小程序消息URL对接信息 -->
    <add key="WxOpenToken" value="小程序消息URL对应的Token" />
    <add key="WxOpenEncodingAESKey" value="小程序消息URL对应的消息加解密密钥" />
    <!-- 小程序秘钥信息 -->
    <add key="WxOpenAppId" value="微信小程序AppId" />
    <add key="WxOpenAppSecret" value="微信小程序AppSecret" />

    <!-- Cache.Redis连接配置 -->
    <add key="Cache_Redis_Configuration" value="Redis配置" />
    <!--<add key="Cache_Redis_Configuration" value="localhost:6379" />-->

    <add key="IsSetCrossSite" value="true" />
    <!--文章中替换图片url后的域名url前缀:http://imgcdn.chitunion.com/-->
    <add key="CleanImgURLPrefix" value="http://192.168.3.71/" />
    <!--上传文件存放物理路径-->
    <add key="UploadFilePath" value="D:\GitRoot（C）\A5信息系统研发\销售业务管理平台\赤兔联盟系统\XYAuto.ITSC.Chitunion2017.Upload" />
    <add key="Domin" value="http://wxtest-ct.qichedaquan.com" />
    <add key="CutHeadImage" value="http://192.168.3.19:8066/api/InsideUtil/CutHeadImage" />

    <!--<add key="ActivityQRcodeImg" value="E:\Work\研发工作\服务号交接\V2.5\IMG\demoIcon2.jpg" />
    <add key="ActivityImgX" value="192"/>
    <add key="ActivityImgY" value="600"/>
    <add key="ImgZoomWidth" value="180"/>
    <add key="ImgZoomHight" value="180"/>-->
    <add key="ActivityQRcodeImg" value="E:\Work\研发工作\服务号交接\V2.5\IMG\demoIcon.png" />
    <add key="ActivityImgX" value="240" />
    <add key="ActivityImgY" value="578" />
    <add key="ImgZoomWidth" value="270" />
    <add key="ImgZoomHight" value="270" />

    <add key="LocalImg" value="D:\GitRoot（C）\A5信息系统研发\销售业务管理平台\赤兔联盟系统\XYAuto.BUOC.Chitunion2017.WebAPIWeChat\Images" />
    <!--可访问临时图片用于图片上传CDN-->
    <add key="LocalWebImage" value="http://wxtest-ct.qichedaquan.com/api/Images/" />
    <!-- 订单接口-->
    <add key="GetOrderUrlByPost" value="http://www1.chitunion.com/api/ThirdBusiness/ReceiveByWx" />
    <!--邀请有礼 签到有礼有效期配置-->
    <add key="InviteDate" value="2018-3-10" />
    <add key="SignDate" value="2018-3-15" />
  </appSettings>
  <StorageGroupConfig configSource="StorageGroupConfig.config" />
  <log4net>
    <logger name="BaseLog">
      <level value="ALL" />
      <appender-ref ref="SmtpERRORAppender" />
      <appender-ref ref="BaseLog" />
    </logger>
    <logger name="ZHYLog">
      <level value="INFO" />
      <appender-ref ref="ZHYLog" />
    </logger>
    <!-- 赤兔系统基本的日志输出 -->
    <appender name="BaseLog" type="log4net.Appender.RollingFileAppender">
      <param name="File" value="Log\" />
      <lockingModel type="log4net.Appender.FileAppender+MinimalLock" />
      <param name="AppendToFile" value="true" />
      <param name="MaxSizeRollBackups" value="10" />
      <param name="MaximumFileSize" value="10MB" />
      <!--可以为:Once|Size|Date|Composite-->
      <!--Composite为Size和Date的组合-->
      <param name="RollingStyle" value="Composite" />
      <param name="DatePattern" value="yyyy-MM-dd/&quot;ChitunionData_&quot;yyyy-MM-dd&quot;.log&quot;" />
      <!--置为true,当前最新日志文件名永远为file节中的名字CC_yyyy-MM-dd.LOG-->
      <param name="StaticLogFileName" value="false" />
      <layout type="log4net.Layout.PatternLayout">
        <param name="ConversionPattern" value="%d [%t] %-5p %c [%x] - %m%n" />
      </layout>
      <filter type="log4net.Filter.LevelRangeFilter">
        <levelMin value="INFO" />
        <levelMax value="FATAL" />
      </filter>
      <filter type="log4net.Filter.DenyAllFilter" />
    </appender>
    <!-- 智慧云接口相关日志 -->
    <appender name="ZHYLog" type="log4net.Appender.RollingFileAppender">
      <param name="File" value="Log\" />
      <lockingModel type="log4net.Appender.FileAppender+MinimalLock" />
      <param name="AppendToFile" value="true" />
      <param name="MaxSizeRollBackups" value="10" />
      <param name="MaximumFileSize" value="10MB" />
      <!--可以为:Once|Size|Date|Composite-->
      <!--Composite为Size和Date的组合-->
      <param name="RollingStyle" value="Composite" />
      <param name="DatePattern" value="yyyy-MM-dd/&quot;zhy_&quot;yyyy-MM-dd&quot;.log&quot;" />
      <!--置为true,当前最新日志文件名永远为file节中的名字CC_yyyy-MM-dd.LOG-->
      <param name="StaticLogFileName" value="false" />
      <layout type="log4net.Layout.PatternLayout">
        <param name="ConversionPattern" value="%d [%t] %-5p %c [%x] - %m%n" />
      </layout>
      <filter type="log4net.Filter.LoggerMatchFilter">
        <loggerToMatch value="ZHYLog" />
      </filter>
      <filter type="log4net.Filter.DenyAllFilter" />
    </appender>
    <appender name="SmtpERRORAppender" type="log4net.Appender.SmtpAppender">
      <authentication value="Basic" />
      <to value="lix@xingyuanauto.com" />
      <from value="buoc@xingyuanauto.com" />
      <username value="buoc@xingyuanauto.com" />
      <password value="@WSX2wsx" />
      <subject value="赤兔-资源管理系统-amdin错误" />
      <smtpHost value="smtp.xingyuanauto.com" />
      <bufferSize value="0" />
      <lossy value="true" />
      <evaluator type="log4net.Core.LevelEvaluator">
        <threshold value="ERROR" />
      </evaluator>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%d [%t] %-5p %c - %m%n" />
      </layout>
    </appender>
  </log4net>
  <system.web>
    <authentication mode="None" />
    <compilation debug="true" targetFramework="4.5" />
    <httpRuntime />
    <httpModules>
      <add name="ApplicationInsightsWebTracking" type="Microsoft.ApplicationInsights.Web.ApplicationInsightsHttpModule, Microsoft.AI.Web" />
    </httpModules>
    <pages controlRenderingCompatibilityVersion="4.0" />
  </system.web>
  <system.webServer>
    <modules>
      <remove name="FormsAuthentication" />
      <remove name="ApplicationInsightsWebTracking" />
      <add name="ApplicationInsightsWebTracking" type="Microsoft.ApplicationInsights.Web.ApplicationInsightsHttpModule, Microsoft.AI.Web" preCondition="managedHandler" />
    </modules>
    <handlers>
      <remove name="ExtensionlessUrlHandler-Integrated-4.0" />
      <remove name="OPTIONSVerbHandler" />
      <remove name="TRACEVerbHandler" />
      <add name="ExtensionlessUrlHandler-Integrated-4.0" path="*." verb="*" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0" />
    </handlers>
    <validation validateIntegratedModeConfiguration="false" />
  </system.webServer>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security.OAuth" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin.Security.Cookies" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Microsoft.Owin" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-3.0.1.0" newVersion="3.0.1.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" culture="neutral" publicKeyToken="30ad4fe6b2a6aeed" />
        <bindingRedirect oldVersion="0.0.0.0-4.5.0.0" newVersion="4.5.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Optimization" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-1.1.0.0" newVersion="1.1.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-1.5.2.14234" newVersion="1.5.2.14234" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Helpers" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.WebPages" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Http" publicKeyToken="31bf3856ad364e35" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="NPOI" publicKeyToken="0df73ec7942b34e1" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-2.1.1.0" newVersion="2.1.1.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <entityFramework>
    <defaultConnectionFactory type="System.Data.Entity.Infrastructure.SqlConnectionFactory, EntityFramework" />
    <providers>
      <provider invariantName="System.Data.SqlClient" type="System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer" />
    </providers>
  </entityFramework>
  <system.codedom>
    <compilers>
      <compiler language="c#;cs;csharp" extension=".cs" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" warningLevel="4" compilerOptions="/langversion:6 /nowarn:1659;1699;1701" />
      <compiler language="vb;vbs;visualbasic;vbscript" extension=".vb" type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" warningLevel="4" compilerOptions="/langversion:14 /nowarn:41008 /define:_MYTYPE=\&quot;Web\&quot; /optionInfer+" />
    </compilers>
  </system.codedom>
</configuration>
