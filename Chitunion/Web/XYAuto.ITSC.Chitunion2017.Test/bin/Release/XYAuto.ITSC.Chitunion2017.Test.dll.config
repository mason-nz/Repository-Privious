<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" restartOnExternalChanges="true"/>
    <!--<section name="FilterHomeMediaCountConfig" type="XYAuto.ITSC.Chitunion2017.BLL.Recommend.FilterHomeMediaCountConfig,XYAuto.ITSC.Chitunion2017.BLL" />-->
  </configSections>
  <appSettings>
    <!--<add key="ConnectionStrings_ITSC" value="server=192.168.3.51;uid=sa;pwd=123.abc;database=Chitunion2017;Max Pool Size=300;Application Name=media_test" />-->
    <add key="ConnectionStrings_ITSC" value="server=192.168.3.51\develop,52436;uid=sa;pwd=sa;database=Chitunion2017;Max Pool Size=300;Application Name=media_test"/>

    <!--BaseData2017-->
    <add key="ConnectionStrings_BaseData2017" value="server=192.168.3.51\develop,52436;uid=sa;pwd=sa;database=BaseData2017;Max Pool Size=300;Application Name=media_test"/>

    <add key="UploadFilePath" value="D:\GitRoot\A5信息系统研发\销售业务管理平台\Chitunion\XYAuto.ITSC.Chitunion2017.Test\V1_1"/>

    <!--验证登陆时，MD5加密key-->
    <add key="LoginPwdKey" value="1234567890ABC"/>
    <!--登陆后，写入Cookies作用域-->
    <add key="WebDomain" value="chitunion.com"/>
    <!--验证来自其它系统表求的应用ID及加密内容配置-->
    <add key="KeyFromOtherSys" value="1,encyptStr;"/>
    <add key="EmbedChiTu_DesStr" value="1234567890.abc"/>
    <!--库存经纪人接口配置-->
    <add key="StockBrokerUrlLogin" value="http://api.xingyuanauto.com/chitunion/Login?appkey={0}&amp;signature={1}&amp;timestamp={2}"/>
    <add key="StockBrokerUrlDealer" value="http://api.xingyuanauto.com/chitunion/DealerBusinessLicence?appkey={0}&amp;signature={1}&amp;timestamp={2}"/>
    <add key="StockBrokerKey" value="chitunion"/>
    <!--库存经纪人接口密钥-->
    <add key="StockBrokerAppSecret" value="38B5BB53-0719-4691-9BB8-48224EB27A80"/>
  </appSettings>

  <!-- log4net配置 -->
  <!--<log4net  configSource="ConfigFile\log4net.config" />-->
  <!-- 数据库连接配置 -->
  <!--<connectionStrings configSource="ConfigFile\connectionStrings.config" />-->

  <!-- 当前api的配置节点：可变的参数配置 -->
  <!--<FilterHomeMediaCountConfig  configSource="ConfigFile\WebApiConfigSectionConfig.config" />-->

  <log4net>
    <root>
      <level value="All"/>
      <appender-ref ref="RollingFileAppender"/>
      <appender-ref ref="SmtpERRORAppender"/>
    </root>
    <appender name="RollingFileAppender" type="log4net.Appender.RollingFileAppender">
      <param name="File" value="Log\"/>
      <param name="AppendToFile" value="true"/>
      <param name="MaxSizeRollBackups" value="10"/>
      <param name="MaximumFileSize" value="10MB"/>
      <!--可以为:Once|Size|Date|Composite-->
      <!--Composite为Size和Date的组合-->
      <param name="RollingStyle" value="Composite"/>
      <param name="DatePattern" value="&quot;Chitunion_WebApi_&quot;yyyyMMdd&quot;.log&quot;"/>
      <!--置为true,当前最新日志文件名永远为file节中的名字CC_yyyy-MM-dd.LOG-->
      <param name="StaticLogFileName" value="false"/>
      <layout type="log4net.Layout.PatternLayout">
        <param name="ConversionPattern" value="%d [%t] %-5p %c [%x] - %m%n"/>
      </layout>
      <filter type="log4net.Filter.LevelRangeFilter">
        <levelMin value="DEBUG"/>
        <levelMax value="FATAL"/>
      </filter>
    </appender>
    <appender name="SmtpERRORAppender" type="log4net.Appender.SmtpAppender">
      <authentication value="Basic"/>
      <to value="lix@xingyuanauto.com"/>
      <from value="isdc@xingyuanauto.com"/>
      <username value="isdc@xingyuanauto.com"/>
      <password value="1qaz@WSX"/>
      <subject value="赤兔联盟单元测试"/>
      <smtpHost value="smtp.xingyuanauto.com"/>
      <bufferSize value="0"/>
      <lossy value="true"/>
      <evaluator type="log4net.Core.LevelEvaluator">
        <threshold value="ERROR"/>
      </evaluator>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%d [%t] %-5p %c - %m%n"/>
      </layout>
    </appender>
  </log4net>

  <runtime>

    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">

      <dependentAssembly>

        <assemblyIdentity name="NPOI" publicKeyToken="0df73ec7942b34e1" culture="neutral"/>

        <bindingRedirect oldVersion="0.0.0.0-2.1.1.0" newVersion="2.1.1.0"/>
      </dependentAssembly>

      <dependentAssembly>

        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral"/>

        <bindingRedirect oldVersion="0.0.0.0-8.0.0.0" newVersion="8.0.0.0"/>
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="CustomerServiceSoap"/>
      </basicHttpBinding>
      <customBinding>
        <binding name="CustomerServiceSoap12">
          <textMessageEncoding messageVersion="Soap12"/>
          <httpTransport/>
        </binding>
      </customBinding>
    </bindings>
    <client>
      <endpoint address="http://192.168.3.51:8003/CustomerService.asmx" binding="basicHttpBinding" bindingConfiguration="CustomerServiceSoap" contract="CRMWebService.CustomerServiceSoap" name="CustomerServiceSoap"/>
    </client>
  </system.serviceModel>
<startup><supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5"/></startup></configuration>
