<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" restartOnExternalChanges="true" />
    <!--<section name="FilterHomeMediaCountConfig" type="XYAuto.ITSC.Chitunion2017.BLL.Recommend.FilterHomeMediaCountConfig,XYAuto.ITSC.Chitunion2017.BLL" />-->
  </configSections>
  <appSettings>
    <!--<add key="ConnectionStrings_ITSC" value="server=192.168.3.51;uid=sa;pwd=123.abc;database=Chitunion2017;Max Pool Size=300;Application Name=media_test" />-->
    <add key="ConnectionStrings_ITSC" value="server=192.168.3.152\DEV,4000;uid=sa;pwd=123.abc;database=Chitunion2017;Max Pool Size=300;Application Name=media_test" />

    <!--BaseData2017-->
    <add key="ConnectionStrings_BaseData2017" value="server=192.168.3.152\DEV,4000;uid=sa;pwd=123.abc;database=BaseData2017;Max Pool Size=300;Application Name=media_test1" />

    <add key="UploadFilePath" value="D:\GitRoot\A5信息系统研发\销售业务管理平台\Chitunion\XYAuto.ITSC.Chitunion2017.Test\V1_1" />

    <!--验证登陆时，MD5加密key-->
    <add key="LoginPwdKey" value="1234567890ABC" />
    <!--登陆后，写入Cookies作用域-->
    <add key="WebDomain" value="chitunion.com" />
    <!--验证来自其它系统表求的应用ID及加密内容配置-->
    <add key="KeyFromOtherSys" value="1,encyptStr;" />
    <add key="EmbedChiTu_DesStr" value="1234567890.abc" />
    <!--库存经纪人接口配置-->
    <add key="StockBrokerUrlLogin" value="http://api.xingyuanauto.com/chitunion/Login?appkey={0}&amp;signature={1}&amp;timestamp={2}" />
    <add key="StockBrokerUrlDealer" value="http://api.xingyuanauto.com/chitunion/DealerBusinessLicence?appkey={0}&amp;signature={1}&amp;timestamp={2}" />
    <add key="StockBrokerKey" value="chitunion" />
    <!--库存经纪人接口密钥-->
    <add key="StockBrokerAppSecret" value="38B5BB53-0719-4691-9BB8-48224EB27A80" />

    <!--广点通-接口url前缀 正式：https://api.e.qq.com/   沙箱：https://sandbox-api.e.qq.com/-->
    <add key="GDT_URL" value="https://sandbox-api.e.qq.com/" />
    <!--广点通-接口版本-->
    <add key="GDT_API_VERSION" value="v1.0" />
    <!--广点通-客户端ID 正式：1106267651   沙箱：1105941209-->
    <add key="GDT_Client_ID" value="1105941209" />
    <!--广点通-访问令牌（测试）-->
    <add key="GDT_Access_Token" value="39d1314ff788dce84f7b533f23d39b0b" />
    <!--广点通-账户ID-->
    <add key="GDT_Account_ID" value="1308" />
    <!--广点通-Authorization域名-->
    <add key="GDT_AuthorizeUrl" value="https://developers.e.qq.com/oauth/authorize" />
    <!--广点通-客户端ID 正式： 沙箱：-->
    <add key="GDT_Client_Secret" value="0e26d8cd94ca6e2f9b4745aec0cffdff" />

    <!--请求智慧云接口相关配置 START -->
    <!-- 验签的开关：打开：true -->
    <add key="ZhySignOff" value="false" />
    <add key="ZhyApiAppKey" value="chituads" />
    <add key="ZhyApiAppSecret" value="56885610-6263-4AA6-8CC0-3E281C753986" />
    <add key="ZhyApiUrl" value="http://api.xingyuanauto.com/" />
    <!--请求智慧云接口相关配置 END -->
    <!--文章中替换图片url后的域名url前缀-->
    <add key="CleanImgURLPrefix" value="http://img4.qcdqcdn.com/" />

    <add key="LuceneFile" value="D:\项目文件\信息系统研发\销售业务\赤兔联盟系统\sln\XYAuto.ITSC.Chitunion2017.LuceneMediaConsole\bin\Debug" />

  </appSettings>

  <!-- log4net配置 -->
  <!--<log4net configSource="ConfigFile\log4net.config" />-->

  <!-- 数据库连接配置 -->
  <!--<connectionStrings configSource="ConfigFile\connectionStrings.config" />-->

  <!-- 当前api的配置节点：可变的参数配置 -->
  <!--<FilterHomeMediaCountConfig  configSource="ConfigFile\WebApiConfigSectionConfig.config" />-->

  <log4net>
    <root>
      <level value="ALL" />
      <appender-ref ref="SmtpERRORAppender" />
      <appender-ref ref="BaseLog" />
      <appender-ref ref="ZHYLog" />
      <appender-ref ref="GDTLog" />
    </root>
    <!--additivity 可选，取值是true或false，默认值是true。设置为false时将阻止父logger中的appender-->
    <logger additivity="false" name="ZHYLog">
      <level value="DEBUG" />
      <appender-ref ref="ZHYLog" />
    </logger>
    <logger additivity="false" name="GDTLog">
      <level value="DEBUG" />
      <appender-ref ref="GDTLog" />
    </logger>
    <!-- 赤兔系统基本的日志输出 -->
    <appender name="BaseLog" type="log4net.Appender.RollingFileAppender">
      <file value="Log\" />
      <appendToFile value="true" />
      <rollingStyle value="Date" />
      <staticLogFileName value="false" />
      <datePattern value="&quot;Chitunion_WebApi_&quot;yyyyMMdd&quot;.log&quot;" />
      <layout type="log4net.Layout.PatternLayout">
        <!--输出格式-->
        <conversionPattern value="%d [%t] %-5p %c [%x] - %m%n" />
      </layout>
      <filter type="log4net.Filter.LoggerMatchFilter">
        <loggerToMatch value="BaseLog" />
      </filter>
      <filter type="log4net.Filter.LevelRangeFilter">
        <levelMin value="INFO" />
        <levelMax value="FATAL" />
      </filter>
      <filter type="log4net.Filter.DenyAllFilter" />
    </appender>
    <!-- 智慧云接口相关日志 -->
    <appender name="ZHYLog" type="log4net.Appender.RollingFileAppender">
      <file value="Log\ZHY\" />
      <appendToFile value="true" />
      <rollingStyle value="Date" />
      <staticLogFileName value="false" />
      <datePattern value="'zhy_'yyyyMMdd'.txt'" />
      <layout type="log4net.Layout.PatternLayout">
        <!--输出格式-->
        <conversionPattern value="%date [%thread] %-5level %logger [%property{NDC}] - %message%newline" />
      </layout>
      <filter type="log4net.Filter.LoggerMatchFilter">
        <loggerToMatch value="ZHYLog" />
      </filter>
      <filter type="log4net.Filter.DenyAllFilter" />
    </appender>
    <!-- 广点通接口相关日志 -->
    <appender name="GDTLog" type="log4net.Appender.RollingFileAppender">
      <file value="Log\GDT\" />
      <appendToFile value="true" />
      <rollingStyle value="Date" />
      <staticLogFileName value="false" />
      <datePattern value="'gdt_'yyyyMMdd'.txt'" />
      <layout type="log4net.Layout.PatternLayout">
        <!--输出格式-->
        <conversionPattern value="%date [%thread] %-5level %logger [%property{NDC}] - %message%newline" />
      </layout>
      <filter type="log4net.Filter.LoggerMatchFilter">
        <loggerToMatch value="GDTLog" />
      </filter>
      <filter type="log4net.Filter.DenyAllFilter" />
    </appender>
    <appender name="SmtpERRORAppender" type="log4net.Appender.SmtpAppender">
      <authentication value="Basic" />
      <to value="lix@xingyuanauto.com" />
      <from value="isdc@xingyuanauto.com" />
      <username value="isdc@xingyuanauto.com" />
      <password value="1qaz@WSX" />
      <subject value="赤兔联盟单元测试" />
      <smtpHost value="smtp.xingyuanauto.com" />
      <bufferSize value="0" />
      <lossy value="true" />
      <evaluator type="log4net.Core.LevelEvaluator">
        <threshold value="ERROR" />
      </evaluator>
      <filter type="log4net.Filter.LoggerMatchFilter">
        <loggerToMatch value="BaseLog" />
        <loggerToMatch value="ZHYLog" />
        <loggerToMatch value="GDTLog" />
      </filter>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%d [%t] %-5p %c - %m%n" />
      </layout>
    </appender>
  </log4net>

  <runtime>

    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">

      <dependentAssembly>

        <assemblyIdentity name="NPOI" publicKeyToken="0df73ec7942b34e1" culture="neutral" />

        <bindingRedirect oldVersion="0.0.0.0-2.1.1.0" newVersion="2.1.1.0" />
      </dependentAssembly>

      <dependentAssembly>

        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />

        <bindingRedirect oldVersion="0.0.0.0-8.0.0.0" newVersion="8.0.0.0" />
      </dependentAssembly>
      <dependentAssembly>

        <assemblyIdentity name="System.Web.Http" publicKeyToken="31bf3856ad364e35" culture="neutral" />

        <bindingRedirect oldVersion="0.0.0.0-5.2.3.0" newVersion="5.2.3.0" />

      </dependentAssembly>

      <dependentAssembly>

        <assemblyIdentity name="WebGrease" publicKeyToken="31bf3856ad364e35" culture="neutral" />

        <bindingRedirect oldVersion="0.0.0.0-1.5.2.14234" newVersion="1.5.2.14234" />

      </dependentAssembly>

    </assemblyBinding>
  </runtime>
  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="CustomerServiceSoap" />
      </basicHttpBinding>
      <customBinding>
        <binding name="CustomerServiceSoap12">
          <textMessageEncoding messageVersion="Soap12" />
          <httpTransport />
        </binding>
      </customBinding>
    </bindings>
    <client>
      <endpoint address="http://192.168.3.51:8003/CustomerService.asmx" binding="basicHttpBinding" bindingConfiguration="CustomerServiceSoap" contract="CRMWebService.CustomerServiceSoap" name="CustomerServiceSoap" />
    </client>
  </system.serviceModel>
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5" />
  </startup>
</configuration>